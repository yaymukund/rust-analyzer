<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="HIR (previously known as descriptors) provides a high-level object oriented access to Rust code."><meta name="keywords" content="rust, rustlang, rust-lang, hir"><title>hir - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../hir/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Crate hir</h2><div class="block version"><p>Version 0.0.0</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all hir's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></div><div id="sidebar-vars" data-name="hir" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img src="../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img src="../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">hir</a><button id="copy-path" onclick="copy_path(this)" title="copy path"><img src="../clipboard.svg" width="19" height="18" alt="Copy item import" title="Copy item import to clipboard"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/hir/lib.rs.html#1-2897" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>HIR (previously known as descriptors) provides a high-level object oriented
access to Rust code.</p>
<p>The principal difference between HIR and syntax trees is that HIR is bound
to a particular crate instance. That is, it has cfg flags and features
applied. So, the relation between syntax and HIR is many-to-one.</p>
<p>HIR is the public API of the all of the compiler logic above syntax trees.
It is written in “OO” style. Each type is self contained (as in, it knows it’s
parents and full context). It should be “clean code”.</p>
<p><code>hir_*</code> crates are the implementation of the compiler logic.
They are written in “ECS” style, with relatively little abstractions.
Many types are not self-contained, and explicitly use local indexes, arenas, etc.</p>
<p><code>hir</code> is what insulates the “we don’t know how to actually write an incremental compiler”
from the ide with completions, hovers, etc. It is a (soft, internal) boundary:
<a href="https://www.tedinski.com/2018/02/06/system-boundaries.html">https://www.tedinski.com/2018/02/06/system-boundaries.html</a>.</p>
</div></details><h2 id="reexports" class="section-header"><a href="#reexports">Re-exports</a></h2>
<table><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="enum" href="diagnostics/enum.AnyDiagnostic.html" title="enum hir::diagnostics::AnyDiagnostic">AnyDiagnostic</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="struct" href="diagnostics/struct.BreakOutsideOfLoop.html" title="struct hir::diagnostics::BreakOutsideOfLoop">BreakOutsideOfLoop</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="struct" href="diagnostics/struct.InactiveCode.html" title="struct hir::diagnostics::InactiveCode">InactiveCode</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="struct" href="diagnostics/struct.MacroError.html" title="struct hir::diagnostics::MacroError">MacroError</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="struct" href="diagnostics/struct.MismatchedArgCount.html" title="struct hir::diagnostics::MismatchedArgCount">MismatchedArgCount</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="struct" href="diagnostics/struct.MissingFields.html" title="struct hir::diagnostics::MissingFields">MissingFields</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="struct" href="diagnostics/struct.MissingMatchArms.html" title="struct hir::diagnostics::MissingMatchArms">MissingMatchArms</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="struct" href="diagnostics/struct.MissingOkOrSomeInTailExpr.html" title="struct hir::diagnostics::MissingOkOrSomeInTailExpr">MissingOkOrSomeInTailExpr</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="struct" href="diagnostics/struct.MissingUnsafe.html" title="struct hir::diagnostics::MissingUnsafe">MissingUnsafe</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="struct" href="diagnostics/struct.NoSuchField.html" title="struct hir::diagnostics::NoSuchField">NoSuchField</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="struct" href="diagnostics/struct.RemoveThisSemicolon.html" title="struct hir::diagnostics::RemoveThisSemicolon">RemoveThisSemicolon</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="struct" href="diagnostics/struct.ReplaceFilterMapNextWithFindMap.html" title="struct hir::diagnostics::ReplaceFilterMapNextWithFindMap">ReplaceFilterMapNextWithFindMap</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="struct" href="diagnostics/struct.UnimplementedBuiltinMacro.html" title="struct hir::diagnostics::UnimplementedBuiltinMacro">UnimplementedBuiltinMacro</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="struct" href="diagnostics/struct.UnresolvedExternCrate.html" title="struct hir::diagnostics::UnresolvedExternCrate">UnresolvedExternCrate</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="struct" href="diagnostics/struct.UnresolvedImport.html" title="struct hir::diagnostics::UnresolvedImport">UnresolvedImport</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="struct" href="diagnostics/struct.UnresolvedMacroCall.html" title="struct hir::diagnostics::UnresolvedMacroCall">UnresolvedMacroCall</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="struct" href="diagnostics/struct.UnresolvedModule.html" title="struct hir::diagnostics::UnresolvedModule">UnresolvedModule</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use crate::diagnostics::<a class="struct" href="diagnostics/struct.UnresolvedProcMacro.html" title="struct hir::diagnostics::UnresolvedProcMacro">UnresolvedProcMacro</a>;</code></td><td class="docblock-short"></td></tr></table><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="db/index.html" title="hir::db mod">db</a></td><td class="docblock-short"><p>Re-exports various subcrates databases so that the calling code can depend
only on <code>hir</code>. This breaks abstraction boundary a bit, it would be cool if
we didn’t do that.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="diagnostics/index.html" title="hir::diagnostics mod">diagnostics</a></td><td class="docblock-short"><p>Re-export diagnostics such that clients of <code>hir</code> don’t have to depend on
low-level crates.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="import_map/index.html" title="hir::import_map mod">import_map</a></td><td class="docblock-short"><p>A map of all publicly exported items in a crate.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="known/index.html" title="hir::known mod">known</a></td><td class="docblock-short"></td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.Attr.html" title="hir::Attr struct">Attr</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Attrs.html" title="hir::Attrs struct">Attrs</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.AttrsWithOwner.html" title="hir::AttrsWithOwner struct">AttrsWithOwner</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.BuiltinType.html" title="hir::BuiltinType struct">BuiltinType</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Callable.html" title="hir::Callable struct">Callable</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.CfgOptions.html" title="hir::CfgOptions struct">CfgOptions</a></td><td class="docblock-short"><p>Configuration options used for conditional compilation on items with <code>cfg</code> attributes.
We have two kind of options in different namespaces: atomic options like <code>unix</code>, and
key-value options like <code>target_arch=&quot;x86&quot;</code>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Const.html" title="hir::Const struct">Const</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.ConstParam.html" title="hir::ConstParam struct">ConstParam</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Crate.html" title="hir::Crate struct">Crate</a></td><td class="docblock-short"><p>hir::Crate describes a single crate. It’s the main interface with which
a crate’s dependencies interact. Mostly, it should be just a proxy for the
root module.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.CrateDependency.html" title="hir::CrateDependency struct">CrateDependency</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Documentation.html" title="hir::Documentation struct">Documentation</a></td><td class="docblock-short"><p>Holds documentation</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Enum.html" title="hir::Enum struct">Enum</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.ExpandResult.html" title="hir::ExpandResult struct">ExpandResult</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Field.html" title="hir::Field struct">Field</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Function.html" title="hir::Function struct">Function</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.HirFileId.html" title="hir::HirFileId struct">HirFileId</a></td><td class="docblock-short"><p>Input to the analyzer is a set of files, where each file is identified by
<code>FileId</code> and contains source code. However, another source of source code in
Rust are macros: each macro can be thought of as producing a “temporary
file”. To assign an id to such a file, we use the id of the macro call that
produced the file. So, a <code>HirFileId</code> is either a <code>FileId</code> (source code
written by user), or a <code>MacroCallId</code> (source code produced by macro).</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Impl.html" title="hir::Impl struct">Impl</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.InFile.html" title="hir::InFile struct">InFile</a></td><td class="docblock-short"><p><code>InFile&lt;T&gt;</code> stores a value of <code>T</code> inside a particular file/syntax tree.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.IncorrectCase.html" title="hir::IncorrectCase struct">IncorrectCase</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Label.html" title="hir::Label struct">Label</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.LifetimeParam.html" title="hir::LifetimeParam struct">LifetimeParam</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Local.html" title="hir::Local struct">Local</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.MacroDef.html" title="hir::MacroDef struct">MacroDef</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.MacroFile.html" title="hir::MacroFile struct">MacroFile</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.ModPath.html" title="hir::ModPath struct">ModPath</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Module.html" title="hir::Module struct">Module</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Name.html" title="hir::Name struct">Name</a></td><td class="docblock-short"><p><code>Name</code> is a wrapper around string, which is used in hir for both references
and declarations. In theory, names should also carry hygiene info, but we are
not there yet!</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Param.html" title="hir::Param struct">Param</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.SelfParam.html" title="hir::SelfParam struct">SelfParam</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Semantics.html" title="hir::Semantics struct">Semantics</a></td><td class="docblock-short"><p>Primary API to get semantic information, like types, from syntax trees.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.SemanticsScope.html" title="hir::SemanticsScope struct">SemanticsScope</a></td><td class="docblock-short"><p><code>SemanticScope</code> encapsulates the notion of a scope (the set of visible
names) at a particular program point.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Static.html" title="hir::Static struct">Static</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Struct.html" title="hir::Struct struct">Struct</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Trait.html" title="hir::Trait struct">Trait</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Type.html" title="hir::Type struct">Type</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.TypeAlias.html" title="hir::TypeAlias struct">TypeAlias</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.TypeInfo.html" title="hir::TypeInfo struct">TypeInfo</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.TypeParam.html" title="hir::TypeParam struct">TypeParam</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Union.html" title="hir::Union struct">Union</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Variant.html" title="hir::Variant struct">Variant</a></td><td class="docblock-short"></td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.Access.html" title="hir::Access enum">Access</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.Adt.html" title="hir::Adt enum">Adt</a></td><td class="docblock-short"><p>A Data Type</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.AssocItem.html" title="hir::AssocItem enum">AssocItem</a></td><td class="docblock-short"><p>Invariant: <code>inner.as_assoc_item(db).is_some()</code>
We do not actively enforce this invariant.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.AssocItemContainer.html" title="hir::AssocItemContainer enum">AssocItemContainer</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.CallableKind.html" title="hir::CallableKind enum">CallableKind</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.CfgAtom.html" title="hir::CfgAtom enum">CfgAtom</a></td><td class="docblock-short"><p>A simple configuration value passed in from the outside.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.CfgExpr.html" title="hir::CfgExpr enum">CfgExpr</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.DefWithBody.html" title="hir::DefWithBody enum">DefWithBody</a></td><td class="docblock-short"><p>The defs which have a body.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.FieldSource.html" title="hir::FieldSource enum">FieldSource</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.GenericDef.html" title="hir::GenericDef enum">GenericDef</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.GenericParam.html" title="hir::GenericParam enum">GenericParam</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.ItemInNs.html" title="hir::ItemInNs enum">ItemInNs</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.MacroKind.html" title="hir::MacroKind enum">MacroKind</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.ModuleDef.html" title="hir::ModuleDef enum">ModuleDef</a></td><td class="docblock-short"><p>The defs which can be visible in the module.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.ModuleSource.html" title="hir::ModuleSource enum">ModuleSource</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.Mutability.html" title="hir::Mutability enum">Mutability</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.Namespace.html" title="hir::Namespace enum">Namespace</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.Origin.html" title="hir::Origin enum">Origin</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.PathKind.html" title="hir::PathKind enum">PathKind</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.PathResolution.html" title="hir::PathResolution enum">PathResolution</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.PrefixKind.html" title="hir::PrefixKind enum">PrefixKind</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.ScopeDef.html" title="hir::ScopeDef enum">ScopeDef</a></td><td class="docblock-short"><p>For IDE only</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.StructKind.html" title="hir::StructKind enum">StructKind</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.TypeRef.html" title="hir::TypeRef enum">TypeRef</a></td><td class="docblock-short"><p>Compare ty::Ty</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.VariantDef.html" title="hir::VariantDef enum">VariantDef</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.Visibility.html" title="hir::Visibility enum">Visibility</a></td><td class="docblock-short"><p>Visibility of an item, with the path resolved.</p>
</td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.AsAssocItem.html" title="hir::AsAssocItem trait">AsAssocItem</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="trait" href="trait.HasAttrs.html" title="hir::HasAttrs trait">HasAttrs</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="trait" href="trait.HasCrate.html" title="hir::HasCrate trait">HasCrate</a></td><td class="docblock-short"><p>Trait for obtaining the defining crate of an item.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.HasSource.html" title="hir::HasSource trait">HasSource</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="trait" href="trait.HasVisibility.html" title="hir::HasVisibility trait">HasVisibility</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="trait" href="trait.HirDisplay.html" title="hir::HirDisplay trait">HirDisplay</a></td><td class="docblock-short"></td></tr></table></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="hir" data-search-index-js="../search-index.js" data-search-js="../search.js"></div><script src="../main.js"></script></body></html>